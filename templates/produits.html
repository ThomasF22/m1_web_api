<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Produits</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="products-container">
        <h2>Produits</h2>
        {% if produits and produits|length > 0 %}
        <div class="products-grid">
            {% for p in produits %}
            <div class="product-card">
                <!-- image: try to load by convention using product id -->
                <img class="product-image" src="/static/images/produits/{{ p.id_p }}.svg" alt="Image de {{ p.designation_p }}" onerror="this.onerror=null; this.src='/static/images/produits/placeholder.svg'">
                <div>
                    <div class="product-title">{{ p.designation_p }}</div>
                    <div class="product-desc">{{ p.description_p or '' }}</div>
                </div>
                <div style="margin-top:auto; display:flex; justify-content:space-between; align-items:center;">
                    <div class="product-price">{{ '%.2f'|format(p.prix_ht) }} â‚¬</div>
                    <div style="font-size:0.9rem; color:#666">Stock: {{ p.stock_p }}</div>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <p>Aucun produit disponible pour le moment.</p>
        {% endif %}
        <p style="margin-top:1rem;"><a href="/">Retour</a></p>
    </div>
</body>
</html>
